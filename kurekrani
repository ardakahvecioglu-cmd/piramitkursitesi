<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=640, initial-scale=1, user-scalable=no" />
<title>Canlı Kurlar – 640×1152</title>
<style>
body{
  margin:0;background:#0f1115;color:#fff;font-family:Segoe UI,Roboto,Arial,sans-serif;
  width:640px;height:1152px;overflow:hidden;position:relative;
}
footer{
  position:absolute;bottom:0;left:0;width:100%;
  display:flex;justify-content:space-between;align-items:center;
  padding:10px 15px;background:rgba(0,0,0,0.75);backdrop-filter:blur(8px);
  border-top:1px solid #222;
}
.card{
  flex:1;text-align:center;margin:0 5px;background:#1a1f29;
  border-radius:12px;padding:8px 6px;font-size:18px;
}
.label{font-size:12px;color:#aaa;margin-bottom:4px;}
.value{font-weight:bold;font-size:22px;transition:color .3s;}
.up{color:#18c964;}
.down{color:#ff4d4f;}
#time{position:absolute;bottom:65px;width:100%;text-align:center;color:#888;font-size:12px;}
</style>
</head>
<body>
  <div id="time">Yükleniyor...</div>
  <footer>
    <div class="card"><div class="label">USD / TRY</div><div id="usd" class="value">--</div></div>
    <div class="card"><div class="label">EUR / TRY</div><div id="eur" class="value">--</div></div>
    <div class="card"><div class="label">GBP / TRY</div><div id="gbp" class="value">--</div></div>
    <div class="card"><div class="label">GRAM ALTIN</div><div id="gold" class="value">--</div></div>
  </footer>

<script>
const el = (id)=>document.getElementById(id);
const last={};
async function getRate(from,to){
  const r=await fetch(`https://api.exchangerate.host/convert?from=${from}&to=${to}&t=${Date.now()}`);
  const j=await r.json();
  return j.result;
}
function update(id,val){
  const v=parseFloat(val);
  const prev=last[id];
  last[id]=v;
  const e=el(id);
  e.textContent=v.toFixed(2);
  if(prev){
    if(v>prev) e.className="value up";
    else if(v<prev) e.className="value down";
    else e.className="value";
  }
}
async function refresh(){
  try{
    const [usd,eur,gbp,xau]=await Promise.all([
      getRate("USD","TRY"),
      getRate("EUR","TRY"),
      getRate("GBP","TRY"),
      getRate("XAU","TRY")
    ]);
    update("usd",usd);
    update("eur",eur);
    update("gbp",gbp);
    update("gold",xau/31.1035);
    el("time").textContent="Son güncelleme: "+new Date().toLocaleTimeString("tr-TR",{hour12:false});
  }catch(e){
    console.error(e);
  }
}
refresh();
setInterval(refresh,10000);
</script>
</body>
</html>
